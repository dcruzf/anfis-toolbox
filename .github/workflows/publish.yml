name: Publish Package

on:
    push:
      tags:
        - 'v*'

jobs:
  publish:
    name: Publish
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash

    steps:
    - name: Checkout repository
      uses: actions/checkout@v5

    - name: Install uv
      uses: astral-sh/setup-uv@v6

    - name: Build project
      run: make build

    - name: Publish
      environment: pypi
      run: make publish
